<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>FAIZAN AND LAIBA - Love Quest</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { margin:0; padding:0; text-align:center; font-family:sans-serif; overflow:hidden; background:#ffe6f0;}
canvas { display:block; margin:auto; touch-action: none; border:2px solid #333; background:#ffe6f0;}
#info { font-size:18px; margin:10px; }
#quest { font-size:16px; margin:5px; color:#d6006c; }
#loading { font-size:18px; color:#333; margin-top:20px; }
</style>
</head>
<body>
<h1>FAIZAN AND LAIBA - Love Quest</h1>
<div id="loading">Loading game, please wait...</div>
<div id="info"></div>
<div id="quest"></div>
<canvas id="gameCanvas" width="400" height="600"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const info = document.getElementById('info');
const quest = document.getElementById('quest');
const loading = document.getElementById('loading');

let stage = 1, maxStage = 10, heartsCollected = 0, heartsNeeded = 100, stageTime = 60;
let hearts = [], frame = 0, faizanX = 50, laibaX = 300;

const loveQuotes = [
  "I love Laiba more than words can say â¤ï¸",
  "Every heartbeat reminds me of Laiba ğŸ’–",
  "Laiba is my sunshine on cloudy days ğŸŒ",
  "I miss her smile even when she's near ğŸ˜",
  "My love for Laiba grows every second ğŸ’˜",
  "No one can ever replace Laiba in my heart ğŸ’",
  "I would cross any distance to be with Laiba ğŸŒ",
  "Laiba makes my world colorful ğŸ¨",
  "Life is beautiful because of Laiba âœ¨",
  "I love you so much, Laiba! I want you in every life â¤ï¸ğŸ’"
];

// Load images
let imagesToLoad = 13;
const bgImgs = [];
for(let i=1;i<=10;i++){ let img=new Image(); img.src=`bg${i}.png`; img.onload=imageLoaded; bgImgs.push(img);}
const faizanImg = new Image(); faizanImg.src="faizan.png"; faizanImg.onload=imageLoaded;
const laibaImg = new Image(); laibaImg.src="laiba.png"; laibaImg.onload=imageLoaded;
const heartImg = new Image(); heartImg.src="heart.png"; heartImg.onload=imageLoaded;

function imageLoaded(){ imagesToLoad--; if(imagesToLoad===0){ loading.style.display="none"; startGame(); }}

function startGame(){
  info.innerText=`Stage: ${stage} / ${maxStage} | Hearts: ${heartsCollected}/${heartsNeeded} | Time: ${stageTime}`;
  quest.innerText = loveQuotes[stage-1];

  canvas.addEventListener('mousedown', clickHandler);
  canvas.addEventListener('touchstart', clickHandler);

  function clickHandler(e){
    let rect = canvas.getBoundingClientRect();
    let x = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
    let y = (e.touches ? e.touches[0].clientY : e.clientY) - rect.top;
    hearts.forEach(h=>{
      if(!h.collected && x>=h.x && x<=h.x+h.size && y>=h.y && y<=h.y+h.size){
        h.collected=true; heartsCollected++; h.blast=10;
      }
    });
  }

  function spawnHeart(){ hearts.push({x:Math.random()*(canvas.width-35),y:-30,size:35,collected:false,blast:0}); }

  function update(){
    frame++;
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.drawImage(bgImgs[stage-1],0,0,canvas.width,canvas.height);
    ctx.drawImage(faizanImg, faizanX,500,50,70);
    ctx.drawImage(laibaImg, laibaX,500,50,70);

    if(frame%30===0) spawnHeart();

    hearts.forEach((h,i)=>{
      if(!h.collected) h.y+=3+stage*0.2;
      if(!h.collected) ctx.drawImage(heartImg,h.x,h.y,h.size,h.size);
      if(h.blast>0){ ctx.fillStyle='yellow'; ctx.beginPath(); ctx.arc(h.x+h.size/2,h.y+h.size/2,15,0,Math.PI*2); ctx.fill(); h.blast--; }
      if(h.y>canvas.height) hearts.splice(i,1);
    });

    info.innerText=`Stage: ${stage} / ${maxStage} | Hearts: ${heartsCollected}/${heartsNeeded} | Time: ${stageTime}`;
    quest.innerText = loveQuotes[stage-1];
    requestAnimationFrame(update);
  }
  update();

  let timerInterval=setInterval(()=>{
    stageTime--;
    if(stageTime<=0 || heartsCollected>=heartsNeeded){
      faizanX+=25; laibaX-=25;
      stage++;
      if(stage>maxStage){
        clearInterval(timerInterval); hearts=[];
        ctx.clearRect(0,0,canvas.width,canvas.height);
        ctx.drawImage(bgImgs[9],0,0,canvas.width,canvas.height);
        ctx.drawImage(faizanImg,170,500,50,70);
        ctx.drawImage(laibaImg,180,500,50,70);
        ctx.fillStyle='black'; ctx.font='18px Arial';
        const messages=[
          "Faizan hugs Laiba! ğŸ¥°ğŸ’–",
          "I love you so much, Laiba!",
          "I want you in every life, forever and always.",
          "You are my heartbeat, my sunshine, my everything.",
          "Together, life feels magical âœ¨",
          "Every moment with you is a dream I never want to end.",
          "Laiba, you are my forever â¤ï¸ğŸ’"
        ];
        messages.forEach((msg,i)=>ctx.fillText(msg,20,180+i*25));
        info.innerText=`Final Hearts Collected: ${heartsCollected}`;
        quest.innerText="â¤ï¸ğŸ’";
        return;
      }
      heartsCollected=0;
      heartsNeeded=100+stage*50;
      stageTime=60+stage*30;
      hearts=[];
    }
  },1000);
}
</script>
</body>
</html>
